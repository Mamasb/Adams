{% extends 'base.html' %}

{% block content %}
<h2>Manage Students</h2>

<!-- Flash Messages -->
{% with messages = get_flashed_messages(with_categories=True) %}
  {% if messages %}
    {% for category, message in messages %}
      <div class="alert alert-{{ category }}">{{ message }}</div>
    {% endfor %}
  {% endif %}
{% endwith %}

<!-- Add Student -->
<form method="POST">
    <input type="text" name="first_name" placeholder="First Name" required>
    <input type="text" name="middle_name" placeholder="Middle Name">
    <input type="text" name="family_name" placeholder="Family Name" required>
    <select name="grade" required>
        <option value="" disabled selected>Select Grade</option>
        <option value="Playgroup">Playgroup</option>
    <option value="PP1">PP1</option>
    <option value="PP2">PP2</option>
    <option value="Grade1">Grade 1</option>
    <option value="Grade2">Grade 2</option>
    <option value="Grade3">Grade 3</option>
    <option value="Grade4">Grade 4</option>
    <option value="Grade5">Grade 5</option>
    <option value="Grade6">Grade 6</option>
    <option value="Grade7">Grade 7</option>
    <option value="Grade8">Grade 8</option>
    <option value="Grade9">Grade 9</option>
  </select>
       
    <button type="submit">Add Student</button>
</form>

<!-- List Students -->
<table>
    <thead>
        <tr>
            <th>Admission Number</th>
            <th>Name</th>
            <th>Grade</th>
        </tr>
    </thead>
    <tbody>
        {% for student in students %}
        <tr>
            <td>{{ student.admission_number }}</td>
            <td>{{ student.first_name }} {{ student.family_name }}</td>
            <td>{{ student.grade }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
